!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=0)}([function(e,t){var i,n,o,r,a,s,l,d,c,y,u=0;var p,w;Physijs.scripts.worker="./lib/physijs_worker.js",Physijs.scripts.ammo="./lib/ammo.js",(r=new Physijs.Scene).setGravity(new THREE.Vector3(0,-5,0)),r.background=new THREE.Color("skyblue"),(i=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,300)).position.set(0,6,10),i.rotation.x=-.2,function(){var e=new THREE.DirectionalLight(16777215,2);e.position.set(0,20,25),r.add(e);var t=new THREE.AmbientLight(11184810,1);t.position.set(0,0,25),r.add(t)}(),p=new THREE.CubeGeometry(5,8,5,0),w=new THREE.MeshLambertMaterial({color:2280130,transparent:!0,opacity:0}),(a=new Physijs.BoxMesh(p,w,1,0)).position.set(0,1,0),a.name="player",a.add(i),(o=new THREE.WebGLRenderer({antialias:!0})).setSize(window.innerWidth,window.innerHeight),o.setPixelRatio(window.devicePixelRatio),o.physicallyCorrectLights=!0,pointTally=document.createElement("h1"),pointTally.id="points",pointTally.style.position="absolute",document.body.appendChild(pointTally),pointTally.innerHTML="Score: 0",timeTally=document.createElement("h1"),timeTally.id="time",timeTally.style.position="absolute",timeTally.style.marginTop="100",document.body.appendChild(timeTally),timeTally.innerHTML="Time: 0",document.body.appendChild(o.domElement),s=new Bullets,l=new Input,new Environment,window.addEventListener("resize",(function(){o.setSize(window.innerWidth,window.innerHeight),i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix()})),new THREE.Raycaster,new THREE.Vector2,y=0,c=new THREE.Clock,d=new THREE.Vector3(0,0,0),function e(t){a.setAngularFactor(d),a.setAngularVelocity(d);var p=c.getDelta();n=Math.PI/2*p,document.getElementById("time").innerHTML="Time: ".concat(Math.floor(100*c.elapsedTime));var w=requestAnimationFrame(e);if(Math.floor(100*c.elapsedTime)>=1e3){var m=document.getElementById("points");m.style="color: red; position: absolute; top: 20%; left: 40%; padding: 10px; border: 5px solid black;",m.innerHTML="Final Score: ".concat(a.points),cancelAnimationFrame(w),setTimeout((function(){location.reload()}),3e3)}var E=(t-y)/1e3;y=t;var T=12*E,f=1;l.isShiftPressed&&(f=15*T);var _=T*f*2;if(l.isLeftPressed&&(a.__dirtyPosition=!0,a.__dirtyRotation=!0,a.setLinearVelocity(d),a.translateOnAxis(new THREE.Vector3(100*_,0,0),-n)),l.isRightPressed&&(a.__dirtyPosition=!0,a.__dirtyRotation=!0,a.setLinearVelocity(d),a.translateOnAxis(new THREE.Vector3(100*-_,0,0),-n)),l.isSpacePressed&&(a.__dirtyPosition=!0,a.__dirtyRotation=!0,a.setLinearVelocity(d),a.setAngularFactor(d),a.setAngularVelocity(d),a.translateOnAxis(new THREE.Vector3(0,1e3*-T,0),-n)),l.isXPressed&&(a.__dirtyPosition=!0,a.__dirtyRotation=!0,a.position.y>60&&(a.translateOnAxis(new THREE.Vector3(0,200*T,0),-n),a.setAngularFactor(d),a.setAngularVelocity(d))),l.isFwdPressed&&(a.__dirtyPosition=!0,a.__dirtyRotation=!0,a.setAngularFactor(d),a.setAngularVelocity(d),a.setAngularFactor(d),a.setLinearVelocity(d),a.translateOnAxis(new THREE.Vector3(0,0,100*_),-n)),l.isBwdPressed&&(a.__dirtyPosition=!0,a.__dirtyRotation=!0,a.setLinearVelocity(d),a.translateOnAxis(new THREE.Vector3(0,0,100*-_),-n)),l.isRLPressed&&(a.rotateOnAxis(new THREE.Vector3(0,1,0),.05),a.setLinearVelocity(d),a.__dirtyPosition=!0,a.__dirtyRotation=!0),l.isRRPressed&&(a.rotateOnAxis(new THREE.Vector3(0,1,0),-.05),a.setLinearVelocity(d),a.__dirtyPosition=!0,a.__dirtyRotation=!0),l.isFirePressed){s.fire();a.rotation.y,Math.PI;var h=new THREE.Vector3;bulletsLBlock.setLinearVelocity(new THREE.Vector3(200*-a.getWorldDirection(h).x,0,-200*a.getWorldDirection(h).z));for(var R=0;R<r.children.length;R++)if("bullet"===r.children[R].name&&(u+=1)>100){for(var g=0;g<r.children.length;g++)"bullet"===r.children[g].name&&r.remove(r.children[g]);u=0}a.setAngularFactor(d),a.setAngularVelocity(d)}r.simulate(),o.render(r,i)}()}]);
//# sourceMappingURL=main.js.map